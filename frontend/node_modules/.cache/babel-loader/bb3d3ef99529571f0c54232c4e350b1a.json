{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\This PC\\\\OneDrive\\\\Desktop\\\\doan\\\\doan\\\\doan_tiemPizza\\\\frontend\\\\src\\\\components\\\\admin\\\\UpdateSupplier.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { editSupplier, fetchSupplierDetails, clearErrors } from '../../actions/supplierActions'; // Import fetchSupplierDetails\n\nimport { useAlert } from 'react-alert';\nimport { UPDATE_SUPPLIER_RESET } from '../../constants/supplierConstants';\nimport Loader from '../layout/Loader'; // Import Loader component\n\nconst UpdateSupplier = ({\n  match,\n  history\n}) => {\n  _s();\n\n  const alert = useAlert();\n  const dispatch = useDispatch();\n  const {\n    id\n  } = match.params;\n  const {\n    error,\n    supplier\n  } = useSelector(state => state.supplierDetails || {});\n  const {\n    loading,\n    isUpdated\n  } = useSelector(state => state.supplier || {});\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [address, setAddress] = useState('');\n  useEffect(() => {\n    if (!supplier) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 20\n      }, this); // Hoặc có thể hiện thông báo không có dữ liệu\n    }\n\n    setName(supplier.name);\n    setEmail(supplier.email);\n    setPhone(supplier.phone);\n    setAddress(supplier.address);\n\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (isUpdated) {\n      alert.success('Nhà cung cấp đã được cập nhật');\n      history.push('/admin/suppliers');\n      dispatch({\n        type: UPDATE_SUPPLIER_RESET\n      });\n    }\n  }, [dispatch, alert, error, isUpdated, id, supplier, history]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    const updatedSupplier = {\n      name,\n      email,\n      phone,\n      address\n    };\n    dispatch(editSupplier(id, updatedSupplier));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"C\\u1EADp nh\\u1EADt nh\\xE0 cung c\\u1EA5p\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 24\n    }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"T\\xEAn nh\\xE0 cung c\\u1EA5p\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0110i\\u1EC7n tho\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: phone,\n          onChange: e => setPhone(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0110\\u1ECBa ch\\u1EC9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: address,\n          onChange: e => setAddress(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"C\\u1EADp nh\\u1EADt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UpdateSupplier, \"rGWKYjiaCeT0b7hyIXqz2H2Enus=\", false, function () {\n  return [useAlert, useDispatch, useSelector, useSelector];\n});\n\n_c = UpdateSupplier;\nexport default UpdateSupplier;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateSupplier\");","map":{"version":3,"sources":["C:/Users/This PC/OneDrive/Desktop/doan/doan/doan_tiemPizza/frontend/src/components/admin/UpdateSupplier.js"],"names":["React","useState","useEffect","useDispatch","useSelector","editSupplier","fetchSupplierDetails","clearErrors","useAlert","UPDATE_SUPPLIER_RESET","Loader","UpdateSupplier","match","history","alert","dispatch","id","params","error","supplier","state","supplierDetails","loading","isUpdated","name","setName","email","setEmail","phone","setPhone","address","setAddress","success","push","type","submitHandler","e","preventDefault","updatedSupplier","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { editSupplier, fetchSupplierDetails, clearErrors } from '../../actions/supplierActions'; // Import fetchSupplierDetails\r\nimport { useAlert } from 'react-alert';\r\nimport { UPDATE_SUPPLIER_RESET } from '../../constants/supplierConstants';\r\nimport Loader from '../layout/Loader'; // Import Loader component\r\n\r\nconst UpdateSupplier = ({ match, history }) => {\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { id } = match.params;\r\n\r\n    const { error, supplier } = useSelector(state => state.supplierDetails || {});\r\n    const { loading, isUpdated } = useSelector(state => state.supplier || {});\r\n\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [phone, setPhone] = useState('');\r\n    const [address, setAddress] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (!supplier) {\r\n            return <div>Loading...</div>;  // Hoặc có thể hiện thông báo không có dữ liệu\r\n        }\r\n        \r\n        setName(supplier.name);\r\n        setEmail(supplier.email);\r\n        setPhone(supplier.phone);\r\n        setAddress(supplier.address);\r\n        \r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n        if (isUpdated) {\r\n            alert.success('Nhà cung cấp đã được cập nhật');\r\n            history.push('/admin/suppliers');\r\n            dispatch({ type: UPDATE_SUPPLIER_RESET });\r\n        }\r\n\r\n    }, [dispatch, alert, error, isUpdated, id, supplier, history]);\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        const updatedSupplier = { name, email, phone, address };\r\n        dispatch(editSupplier(id, updatedSupplier));\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>Cập nhật nhà cung cấp</h1>\r\n            {loading ? <Loader /> : (\r\n                <form onSubmit={submitHandler}>\r\n                    <div>\r\n                        <label>Tên nhà cung cấp</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label>Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label>Điện thoại</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={phone}\r\n                            onChange={(e) => setPhone(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label>Địa chỉ</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={address}\r\n                            onChange={(e) => setAddress(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <button type=\"submit\">Cập nhật</button>\r\n                </form>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UpdateSupplier;"]},"metadata":{},"sourceType":"module"}