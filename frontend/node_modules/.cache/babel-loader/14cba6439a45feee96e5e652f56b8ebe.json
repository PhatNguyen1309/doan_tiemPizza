{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\This PC\\\\OneDrive\\\\Desktop\\\\doan\\\\doan\\\\doan_tiemPizza\\\\frontend\\\\src\\\\components\\\\admin\\\\UpdateProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from 'react';\nimport MetaData from '../layout/MetaData';\nimport Sidebar from './Sidebar';\nimport { useAlert } from 'react-alert';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateProduct, getProductDetails, clearErrors } from '../../actions/productActions';\nimport { UPDATE_PRODUCT_RESET } from '../../constants/productConstants';\nimport { getSuppliers } from '../../actions/supplierActions'; // Import action\n\nconst UpdateProduct = ({\n  match,\n  history\n}) => {\n  _s();\n\n  const [name, setName] = useState('');\n  const [price, setPrice] = useState(0);\n  const [description, setDescription] = useState('');\n  const [category, setCategory] = useState('');\n  const [stock, setStock] = useState(0);\n  const [supplier, setSupplier] = useState('');\n  const [images, setImages] = useState([]);\n  const [oldImages, setOldImages] = useState([]);\n  const [imagesPreview, setImagesPreview] = useState([]);\n  const categories = ['Hải sản', 'Truyền thống', 'Thập cẩm', 'Chay', '1 piece', 'Khai vị', \"Đồ uống\", 'Tráng miệng'];\n  const alert = useAlert();\n  const dispatch = useDispatch();\n  const {\n    error,\n    product\n  } = useSelector(state => state.productDetails);\n  const {\n    loading,\n    error: updateError,\n    isUpdated\n  } = useSelector(state => state.product);\n  const {\n    suppliers,\n    loading: suppliersLoading,\n    error: suppliersError\n  } = useSelector(state => state.suppliers);\n  const productId = match.params.id;\n  useEffect(() => {\n    if (product && product._id !== productId) {\n      dispatch(getProductDetails(productId));\n    } else {\n      setName(product.name);\n      setPrice(product.price);\n      setDescription(product.description);\n      setCategory(product.category);\n      setSupplier(product.supplier);\n      setStock(product.stock);\n      setOldImages(product.images);\n    }\n\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (updateError) {\n      alert.error(updateError);\n      dispatch(clearErrors());\n    }\n\n    if (isUpdated) {\n      history.push('/admin/products');\n      alert.success('Product updated successfully');\n      dispatch({\n        type: UPDATE_PRODUCT_RESET\n      });\n    } // Lấy danh sách nhà cung cấp\n\n\n    dispatch(getSuppliers());\n\n    if (suppliersError) {\n      alert.error(suppliersError);\n      dispatch(clearErrors());\n    }\n  }, [dispatch, alert, error, isUpdated, history, updateError, product, productId, suppliersError]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.set('name', name);\n    formData.set('price', price);\n    formData.set('description', description);\n    formData.set('category', category);\n    formData.set('stock', stock);\n    formData.set('supplier', supplier);\n    images.forEach(image => {\n      formData.append('images', image);\n    });\n    dispatch(updateProduct(product._id, formData));\n  };\n\n  const onChange = e => {\n    const files = Array.from(e.target.files);\n    setImagesPreview([]);\n    setImages([]);\n    setOldImages([]);\n    files.forEach(file => {\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        if (reader.readyState === 2) {\n          setImagesPreview(oldArray => [...oldArray, reader.result]);\n          setImages(oldArray => [...oldArray, reader.result]);\n        }\n      };\n\n      reader.readAsDataURL(file);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MetaData, {\n      title: 'Update Product'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-2\",\n        children: /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-10\",\n        children: /*#__PURE__*/_jsxDEV(Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wrapper my-5\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"shadow-lg\",\n              onSubmit: submitHandler,\n              encType: \"multipart/form-data\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"mb-4\",\n                children: \"C\\u1EADp nh\\u1EADt s\\u1EA3n ph\\u1EA9m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"supplier_field\",\n                  children: \"Nh\\xE0 cung c\\u1EA5p\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-control\",\n                  id: \"supplier_field\",\n                  value: supplier,\n                  onChange: e => setSupplier(e.target.value),\n                  children: suppliersLoading ? /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"\\u0110ang t\\u1EA3i...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 45\n                  }, this) : suppliers.map(supplierItem => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: supplierItem._id,\n                    children: supplierItem.name\n                  }, supplierItem._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 49\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UpdateProduct, \"oTgy9dGgfONtyFQEfhQ9suxyfTE=\", false, function () {\n  return [useAlert, useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = UpdateProduct;\nexport default UpdateProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateProduct\");","map":{"version":3,"sources":["C:/Users/This PC/OneDrive/Desktop/doan/doan/doan_tiemPizza/frontend/src/components/admin/UpdateProduct.js"],"names":["React","Fragment","useState","useEffect","MetaData","Sidebar","useAlert","useDispatch","useSelector","updateProduct","getProductDetails","clearErrors","UPDATE_PRODUCT_RESET","getSuppliers","UpdateProduct","match","history","name","setName","price","setPrice","description","setDescription","category","setCategory","stock","setStock","supplier","setSupplier","images","setImages","oldImages","setOldImages","imagesPreview","setImagesPreview","categories","alert","dispatch","error","product","state","productDetails","loading","updateError","isUpdated","suppliers","suppliersLoading","suppliersError","productId","params","id","_id","push","success","type","submitHandler","e","preventDefault","formData","FormData","set","forEach","image","append","onChange","files","Array","from","target","file","reader","FileReader","onload","readyState","oldArray","result","readAsDataURL","value","map","supplierItem"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport MetaData from '../layout/MetaData';\nimport Sidebar from './Sidebar';\nimport { useAlert } from 'react-alert';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateProduct, getProductDetails, clearErrors } from '../../actions/productActions';\nimport { UPDATE_PRODUCT_RESET } from '../../constants/productConstants';\nimport { getSuppliers } from '../../actions/supplierActions'; // Import action\n\nconst UpdateProduct = ({ match, history }) => {\n    const [name, setName] = useState('');\n    const [price, setPrice] = useState(0);\n    const [description, setDescription] = useState('');\n    const [category, setCategory] = useState('');\n    const [stock, setStock] = useState(0);\n    const [supplier, setSupplier] = useState('');\n    const [images, setImages] = useState([]);\n    const [oldImages, setOldImages] = useState([]);\n    const [imagesPreview, setImagesPreview] = useState([]);\n\n    const categories = [\n        'Hải sản', 'Truyền thống', 'Thập cẩm', 'Chay', '1 piece', 'Khai vị', \"Đồ uống\", 'Tráng miệng'\n    ];\n\n    const alert = useAlert();\n    const dispatch = useDispatch();\n\n    const { error, product } = useSelector(state => state.productDetails);\n    const { loading, error: updateError, isUpdated } = useSelector(state => state.product);\n    const { suppliers, loading: suppliersLoading, error: suppliersError } = useSelector(state => state.suppliers);\n\n    const productId = match.params.id;\n\n    useEffect(() => {\n        if (product && product._id !== productId) {\n            dispatch(getProductDetails(productId));\n        } else {\n            setName(product.name);\n            setPrice(product.price);\n            setDescription(product.description);\n            setCategory(product.category);\n            setSupplier(product.supplier);\n            setStock(product.stock);\n            setOldImages(product.images);\n        }\n\n        if (error) {\n            alert.error(error);\n            dispatch(clearErrors());\n        }\n\n        if (updateError) {\n            alert.error(updateError);\n            dispatch(clearErrors());\n        }\n\n        if (isUpdated) {\n            history.push('/admin/products');\n            alert.success('Product updated successfully');\n            dispatch({ type: UPDATE_PRODUCT_RESET });\n        }\n\n        // Lấy danh sách nhà cung cấp\n        dispatch(getSuppliers());\n\n        if (suppliersError) {\n            alert.error(suppliersError);\n            dispatch(clearErrors());\n        }\n    }, [dispatch, alert, error, isUpdated, history, updateError, product, productId, suppliersError]);\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n\n        const formData = new FormData();\n        formData.set('name', name);\n        formData.set('price', price);\n        formData.set('description', description);\n        formData.set('category', category);\n        formData.set('stock', stock);\n        formData.set('supplier', supplier);\n\n        images.forEach(image => {\n            formData.append('images', image);\n        });\n\n        dispatch(updateProduct(product._id, formData));\n    };\n\n    const onChange = e => {\n        const files = Array.from(e.target.files);\n\n        setImagesPreview([]);\n        setImages([]);\n        setOldImages([]);\n\n        files.forEach(file => {\n            const reader = new FileReader();\n\n            reader.onload = () => {\n                if (reader.readyState === 2) {\n                    setImagesPreview(oldArray => [...oldArray, reader.result]);\n                    setImages(oldArray => [...oldArray, reader.result]);\n                }\n            };\n\n            reader.readAsDataURL(file);\n        });\n    };\n\n    return (\n        <Fragment>\n            <MetaData title={'Update Product'} />\n            <div className=\"row\">\n                <div className=\"col-12 col-md-2\">\n                    <Sidebar />\n                </div>\n\n                <div className=\"col-12 col-md-10\">\n                    <Fragment>\n                        <div className=\"wrapper my-5\">\n                            <form className=\"shadow-lg\" onSubmit={submitHandler} encType=\"multipart/form-data\">\n                                <h1 className=\"mb-4\">Cập nhật sản phẩm</h1>\n\n                                {/* Các trường khác như tên, giá, mô tả, danh mục... */}\n\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"supplier_field\">Nhà cung cấp</label>\n                                    <select\n                                        className=\"form-control\"\n                                        id=\"supplier_field\"\n                                        value={supplier}\n                                        onChange={(e) => setSupplier(e.target.value)}\n                                    >\n                                        {suppliersLoading ? (\n                                            <option>Đang tải...</option>\n                                        ) : (\n                                            suppliers.map(supplierItem => (\n                                                <option key={supplierItem._id} value={supplierItem._id}>\n                                                    {supplierItem.name}\n                                                </option>\n                                            ))\n                                        )}\n                                    </select>\n                                </div>\n\n                                {/* Các trường khác và nút submit */}\n\n                            </form>\n                        </div>\n                    </Fragment>\n                </div>\n            </div>\n        </Fragment>\n    );\n};\n\nexport default UpdateProduct;"]},"metadata":{},"sourceType":"module"}