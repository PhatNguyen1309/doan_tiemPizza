{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\This PC\\\\OneDrive\\\\Desktop\\\\doan\\\\doan\\\\doan_tiemPizza\\\\frontend\\\\src\\\\components\\\\admin\\\\SupplierList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { MDBDataTable } from 'mdbreact';\nimport { toast } from 'react-toastify';\nimport axios from 'axios';\n\nconst SupplierList = () => {\n  _s();\n\n  const [suppliers, setSuppliers] = useState([]);\n  useEffect(() => {\n    // Lấy dữ liệu nhà cung cấp từ API\n    const fetchSuppliers = async () => {\n      try {\n        const response = await axios.get('/api/v1/suppliers');\n        setSuppliers(response.data.suppliers);\n      } catch (error) {\n        toast.error('Lỗi khi tải danh sách nhà cung cấp');\n      }\n    };\n\n    fetchSuppliers();\n  }, []); // Xử lý xóa nhà cung cấp\n\n  const handleDelete = async id => {\n    try {\n      await axios.delete(`/api/v1/supplier/${id}`);\n      setSuppliers(suppliers.filter(supplier => supplier._id !== id));\n      toast.success('Xóa nhà cung cấp thành công');\n    } catch (error) {\n      toast.error('Lỗi khi xóa nhà cung cấp');\n    }\n  }; // Chuẩn bị dữ liệu cho bảng\n\n\n  const data = {\n    columns: [{\n      label: 'ID',\n      field: 'id',\n      sort: 'asc'\n    }, {\n      label: 'Tên nhà cung cấp',\n      field: 'name',\n      sort: 'asc'\n    }, {\n      label: 'Email',\n      field: 'email',\n      sort: 'asc'\n    }, {\n      label: 'Điện thoại',\n      field: 'phone',\n      sort: 'asc'\n    }, {\n      label: 'Địa chỉ',\n      field: 'address',\n      sort: 'asc'\n    }, {\n      label: 'Người liên hệ',\n      // Thêm cột người liên hệ\n      field: 'contactPerson',\n      // Trường dữ liệu\n      sort: 'asc'\n    }, {\n      label: 'Hành động',\n      field: 'actions'\n    }],\n    rows: []\n  };\n  suppliers.forEach(supplier => {\n    data.rows.push({\n      id: supplier._id,\n      name: supplier.name,\n      email: supplier.email,\n      phone: supplier.phone,\n      address: supplier.address,\n      contactPerson: supplier.contactPerson || 'Chưa có',\n      // Kiểm tra người liên hệ\n      actions: /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/admin/supplier/${supplier._id}`,\n          className: \"btn btn-primary py-1 px-2\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-pencil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), \"\\u2003\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDelete(supplier._id),\n          className: \"btn btn-danger py-1 px-2\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-trash-fill\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mb-4\",\n      children: \"Danh s\\xE1ch nh\\xE0 cung c\\u1EA5p\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MDBDataTable, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      data: data,\n      entriesOptions: [5, 10, 20],\n      entries: 10,\n      pagesAmount: 4\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SupplierList, \"qXiN5vlUoDwjsurhLYyjGPYw0jE=\");\n\n_c = SupplierList;\nexport default SupplierList;\n\nvar _c;\n\n$RefreshReg$(_c, \"SupplierList\");","map":{"version":3,"sources":["C:/Users/This PC/OneDrive/Desktop/doan/doan/doan_tiemPizza/frontend/src/components/admin/SupplierList.js"],"names":["React","useState","useEffect","Fragment","Link","MDBDataTable","toast","axios","SupplierList","suppliers","setSuppliers","fetchSuppliers","response","get","data","error","handleDelete","id","delete","filter","supplier","_id","success","columns","label","field","sort","rows","forEach","push","name","email","phone","address","contactPerson","actions"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { MDBDataTable } from 'mdbreact';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\n\r\nconst SupplierList = () => {\r\n    const [suppliers, setSuppliers] = useState([]);\r\n\r\n    useEffect(() => {\r\n        // Lấy dữ liệu nhà cung cấp từ API\r\n        const fetchSuppliers = async () => {\r\n            try {\r\n                const response = await axios.get('/api/v1/suppliers');\r\n                setSuppliers(response.data.suppliers);\r\n            } catch (error) {\r\n                toast.error('Lỗi khi tải danh sách nhà cung cấp');\r\n            }\r\n        };\r\n        fetchSuppliers();\r\n    }, []);\r\n\r\n    // Xử lý xóa nhà cung cấp\r\n    const handleDelete = async (id) => {\r\n        try {\r\n            await axios.delete(`/api/v1/supplier/${id}`);\r\n            setSuppliers(suppliers.filter(supplier => supplier._id !== id));\r\n            toast.success('Xóa nhà cung cấp thành công');\r\n        } catch (error) {\r\n            toast.error('Lỗi khi xóa nhà cung cấp');\r\n        }\r\n    };\r\n\r\n    // Chuẩn bị dữ liệu cho bảng\r\n    const data = {\r\n        columns: [\r\n            {\r\n                label: 'ID',\r\n                field: 'id',\r\n                sort: 'asc'\r\n            },\r\n            {\r\n                label: 'Tên nhà cung cấp',\r\n                field: 'name',\r\n                sort: 'asc'\r\n            },\r\n            {\r\n                label: 'Email',\r\n                field: 'email',\r\n                sort: 'asc'\r\n            },\r\n            {\r\n                label: 'Điện thoại',\r\n                field: 'phone',\r\n                sort: 'asc'\r\n            },\r\n            {\r\n                label: 'Địa chỉ',\r\n                field: 'address',\r\n                sort: 'asc'\r\n            },\r\n            {\r\n                label: 'Người liên hệ', // Thêm cột người liên hệ\r\n                field: 'contactPerson', // Trường dữ liệu\r\n                sort: 'asc'\r\n            },\r\n            {\r\n                label: 'Hành động',\r\n                field: 'actions',\r\n            },\r\n        ],\r\n        rows: [],\r\n    };\r\n\r\n    suppliers.forEach(supplier => {\r\n        data.rows.push({\r\n            id: supplier._id,\r\n            name: supplier.name,\r\n            email: supplier.email,\r\n            phone: supplier.phone,\r\n            address: supplier.address,\r\n            contactPerson: supplier.contactPerson || 'Chưa có', // Kiểm tra người liên hệ\r\n            actions: (\r\n                <Fragment>\r\n                    <Link to={`/admin/supplier/${supplier._id}`} className=\"btn btn-primary py-1 px-2\">\r\n                        <i className=\"fa fa-pencil\"></i>\r\n                    </Link>&emsp;\r\n                    <button onClick={() => handleDelete(supplier._id)} className=\"btn btn-danger py-1 px-2\">\r\n                        <i className=\"bi bi-trash-fill\"></i>\r\n                    </button>\r\n                </Fragment>\r\n            ),\r\n        });\r\n    });\r\n\r\n    return (\r\n        <div className=\"container mt-4\">\r\n            <h2 className=\"mb-4\">Danh sách nhà cung cấp</h2>\r\n            <MDBDataTable\r\n                striped\r\n                bordered\r\n                hover\r\n                data={data}\r\n                entriesOptions={[5, 10, 20]}\r\n                entries={10}\r\n                pagesAmount={4}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SupplierList;"]},"metadata":{},"sourceType":"module"}