{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\This PC\\\\OneDrive\\\\Desktop\\\\doan\\\\doan\\\\doan_tiemPizza\\\\frontend\\\\src\\\\components\\\\admin\\\\NewProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, Fragment } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { newProduct } from '../../actions/productActions'; // Giả sử bạn đã có action này\n\nimport { useAlert } from 'react-alert';\nimport { useHistory } from 'react-router-dom';\nimport Sidebar from './Sidebar';\nimport axios from 'axios';\n\nconst NewProduct = () => {\n  _s();\n\n  const [name, setName] = useState('');\n  const [price, setPrice] = useState('');\n  const [description, setDescription] = useState('');\n  const [category, setCategory] = useState('');\n  const [supplierProduct, setSupplierProduct] = useState(''); // ID của nhà cung cấp\n\n  const [stock, setStock] = useState('');\n  const [suppliers, setSuppliers] = useState([]); // Danh sách nhà cung cấp\n\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const history = useHistory();\n  useEffect(() => {\n    // Lấy danh sách nhà cung cấp từ API\n    const fetchSuppliers = async () => {\n      try {\n        const response = await axios.get('/api/v1/suppliers'); // API để lấy danh sách nhà cung cấp\n\n        setSuppliers(response.data.suppliers);\n      } catch (err) {\n        alert.error('Không thể lấy danh sách nhà cung cấp');\n      }\n    };\n\n    fetchSuppliers();\n  }, [alert]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const productData = {\n      name,\n      price,\n      description,\n      category,\n      supplierProduct,\n      // Nhà cung cấp (ID của supplier)\n      stock\n    };\n    dispatch(addProduct(productData)); // Gửi dữ liệu để thêm sản phẩm mới\n\n    alert.success('Sản phẩm đã được thêm mới!');\n    history.push('/admin/products');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-2\",\n        children: /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-10\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"my-5\",\n            children: \"Th\\xEAm m\\u1EDBi s\\u1EA3n ph\\u1EA9m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"name\",\n                children: \"T\\xEAn s\\u1EA3n ph\\u1EA9m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"name\",\n                className: \"form-control\",\n                value: name,\n                onChange: e => setName(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"price\",\n                children: \"Gi\\xE1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                id: \"price\",\n                className: \"form-control\",\n                value: price,\n                onChange: e => setPrice(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"description\",\n                children: \"M\\xF4 t\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"description\",\n                className: \"form-control\",\n                value: description,\n                onChange: e => setDescription(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"category\",\n                children: \"Danh m\\u1EE5c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"category\",\n                className: \"form-control\",\n                value: category,\n                onChange: e => setCategory(e.target.value),\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn danh m\\u1EE5c\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"H\\u1EA3i s\\u1EA3n\",\n                  children: \"H\\u1EA3i s\\u1EA3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Truy\\u1EC1n th\\u1ED1ng\",\n                  children: \"Truy\\u1EC1n th\\u1ED1ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Th\\u1EADp c\\u1EA9m\",\n                  children: \"Th\\u1EADp c\\u1EA9m\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Chay\",\n                  children: \"Chay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"1 piece\",\n                  children: \"1 piece\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Khai v\\u1ECB\",\n                  children: \"Khai v\\u1ECB\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0110\\u1ED3 u\\u1ED1ng\",\n                  children: \"\\u0110\\u1ED3 u\\u1ED1ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Tr\\xE1ng mi\\u1EC7ng\",\n                  children: \"Tr\\xE1ng mi\\u1EC7ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"supplierProduct\",\n                children: \"Nh\\xE0 cung c\\u1EA5p\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"supplierProduct\",\n                className: \"form-control\",\n                value: supplierProduct,\n                onChange: e => setSupplierProduct(e.target.value),\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn nh\\xE0 cung c\\u1EA5p\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 37\n                }, this), suppliers.map(supplier => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: supplier._id,\n                  children: supplier.name\n                }, supplier._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 41\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"stock\",\n                children: \"S\\u1ED1 l\\u01B0\\u1EE3ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                id: \"stock\",\n                className: \"form-control\",\n                value: stock,\n                onChange: e => setStock(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary mt-3\",\n              children: \"Th\\xEAm s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n\n_s(NewProduct, \"GeQ8dmnLMOfEkOFqnfcmaZGzuBw=\", false, function () {\n  return [useDispatch, useAlert, useHistory];\n});\n\n_c = NewProduct;\nexport default NewProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewProduct\");","map":{"version":3,"sources":["C:/Users/This PC/OneDrive/Desktop/doan/doan/doan_tiemPizza/frontend/src/components/admin/NewProduct.js"],"names":["React","useState","useEffect","Fragment","useDispatch","useSelector","newProduct","useAlert","useHistory","Sidebar","axios","NewProduct","name","setName","price","setPrice","description","setDescription","category","setCategory","supplierProduct","setSupplierProduct","stock","setStock","suppliers","setSuppliers","dispatch","alert","history","fetchSuppliers","response","get","data","err","error","handleSubmit","e","preventDefault","productData","addProduct","success","push","target","value","map","supplier","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { newProduct } from '../../actions/productActions'; // Giả sử bạn đã có action này\nimport { useAlert } from 'react-alert';\nimport { useHistory } from 'react-router-dom';\nimport Sidebar from './Sidebar';\nimport axios from 'axios';\n\nconst NewProduct = () => {\n    const [name, setName] = useState('');\n    const [price, setPrice] = useState('');\n    const [description, setDescription] = useState('');\n    const [category, setCategory] = useState('');\n    const [supplierProduct, setSupplierProduct] = useState(''); // ID của nhà cung cấp\n    const [stock, setStock] = useState('');\n    const [suppliers, setSuppliers] = useState([]); // Danh sách nhà cung cấp\n\n    const dispatch = useDispatch();\n    const alert = useAlert();\n    const history = useHistory();\n\n    useEffect(() => {\n        // Lấy danh sách nhà cung cấp từ API\n        const fetchSuppliers = async () => {\n            try {\n                const response = await axios.get('/api/v1/suppliers'); // API để lấy danh sách nhà cung cấp\n                setSuppliers(response.data.suppliers);\n            } catch (err) {\n                alert.error('Không thể lấy danh sách nhà cung cấp');\n            }\n        };\n\n        fetchSuppliers();\n    }, [alert]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        const productData = {\n            name,\n            price,\n            description,\n            category,\n            supplierProduct, // Nhà cung cấp (ID của supplier)\n            stock\n        };\n\n        dispatch(addProduct(productData)); // Gửi dữ liệu để thêm sản phẩm mới\n        alert.success('Sản phẩm đã được thêm mới!');\n        history.push('/admin/products');\n    };\n\n    return (\n        <Fragment>\n            <div className=\"row\">\n                <div className=\"col-12 col-md-2\">\n                    <Sidebar />\n                </div>\n\n                <div className=\"col-12 col-md-10\">\n                    <div className=\"container\">\n                        <h1 className=\"my-5\">Thêm mới sản phẩm</h1>\n\n                        <form onSubmit={handleSubmit}>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"name\">Tên sản phẩm</label>\n                                <input \n                                    type=\"text\" \n                                    id=\"name\" \n                                    className=\"form-control\" \n                                    value={name}\n                                    onChange={(e) => setName(e.target.value)} \n                                    required \n                                />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"price\">Giá</label>\n                                <input \n                                    type=\"number\" \n                                    id=\"price\" \n                                    className=\"form-control\" \n                                    value={price}\n                                    onChange={(e) => setPrice(e.target.value)} \n                                    required \n                                />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"description\">Mô tả</label>\n                                <textarea \n                                    id=\"description\" \n                                    className=\"form-control\" \n                                    value={description}\n                                    onChange={(e) => setDescription(e.target.value)} \n                                    required \n                                />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"category\">Danh mục</label>\n                                <select\n                                    id=\"category\"\n                                    className=\"form-control\"\n                                    value={category}\n                                    onChange={(e) => setCategory(e.target.value)}\n                                    required\n                                >\n                                    <option value=\"\">Chọn danh mục</option>\n                                    <option value=\"Hải sản\">Hải sản</option>\n                                    <option value=\"Truyền thống\">Truyền thống</option>\n                                    <option value=\"Thập cẩm\">Thập cẩm</option>\n                                    <option value=\"Chay\">Chay</option>\n                                    <option value=\"1 piece\">1 piece</option>\n                                    <option value=\"Khai vị\">Khai vị</option>\n                                    <option value=\"Đồ uống\">Đồ uống</option>\n                                    <option value=\"Tráng miệng\">Tráng miệng</option>\n                                </select>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"supplierProduct\">Nhà cung cấp</label>\n                                <select\n                                    id=\"supplierProduct\"\n                                    className=\"form-control\"\n                                    value={supplierProduct}\n                                    onChange={(e) => setSupplierProduct(e.target.value)}\n                                    required\n                                >\n                                    <option value=\"\">Chọn nhà cung cấp</option>\n                                    {suppliers.map(supplier => (\n                                        <option key={supplier._id} value={supplier._id}>\n                                            {supplier.name}\n                                        </option>\n                                    ))}\n                                </select>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"stock\">Số lượng</label>\n                                <input \n                                    type=\"number\" \n                                    id=\"stock\" \n                                    className=\"form-control\" \n                                    value={stock}\n                                    onChange={(e) => setStock(e.target.value)} \n                                    required \n                                />\n                            </div>\n\n                            <button type=\"submit\" className=\"btn btn-primary mt-3\">Thêm sản phẩm</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </Fragment>\n    );\n};\n\nexport default NewProduct;"]},"metadata":{},"sourceType":"module"}