{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\This PC\\\\OneDrive\\\\Desktop\\\\doan\\\\doan\\\\doan_tiemPizza\\\\frontend\\\\src\\\\components\\\\admin\\\\LookAccount.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from 'react';\nimport MetaData from '../layout/MetaData';\nimport Sidebar from './Sidebar';\nimport { useAlert } from 'react-alert';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { deleteUser, getUserDetails, clearErrors } from '../../actions/userActions'; // Thay updateUser bằng deleteUser\n\nimport { DELETE_USER_RESET } from '../../constants/userConstants'; // Thay UPDATE_USER_RESET bằng DELETE_USER_RESET\n\nconst DeleteAccount = ({\n  history,\n  match\n}) => {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const alert = useAlert();\n  const dispatch = useDispatch();\n  const {\n    error,\n    isDeleted\n  } = useSelector(state => state.user); // Thay isUpdated bằng isDeleted\n\n  const {\n    user\n  } = useSelector(state => state.userDetails);\n  const userId = match.params.id;\n  useEffect(() => {\n    if (user && user._id !== userId) {\n      dispatch(getUserDetails(userId));\n    } else {\n      setEmail(user.email);\n    }\n\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (isDeleted) {\n      alert.success('Xóa tài khoản thành công!');\n      history.push('/admin/users');\n      dispatch({\n        type: DELETE_USER_RESET\n      });\n    }\n  }, [dispatch, alert, error, history, isDeleted, userId, user]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(deleteUser(userId)); // Thay updateUser bằng deleteUser\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MetaData, {\n      title: `Delete User`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-2\",\n        children: /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-10\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-10 col-lg-5\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"shadow-lg\",\n              onSubmit: submitHandler,\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"mt-2 mb-5\",\n                children: \"X\\xD3A T\\xC0I KHO\\u1EA2N\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"img_look container\",\n                src: \"https://icon-library.com/images/delete-icon-png/delete-icon-png-29.jpg\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"email_field\",\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  id: \"email_field\",\n                  className: \"form-control\",\n                  name: \"email\",\n                  value: email,\n                  disabled: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn update-btn btn-block mt-4 mb-3\",\n                children: \"X\\xF3a t\\xE0i kho\\u1EA3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DeleteAccount, \"mCX1F7X7P/F9n9VnTtN3SFurwgY=\", false, function () {\n  return [useAlert, useDispatch, useSelector, useSelector];\n});\n\n_c = DeleteAccount;\nexport default DeleteAccount;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeleteAccount\");","map":{"version":3,"sources":["C:/Users/This PC/OneDrive/Desktop/doan/doan/doan_tiemPizza/frontend/src/components/admin/LookAccount.js"],"names":["React","Fragment","useState","useEffect","MetaData","Sidebar","useAlert","useDispatch","useSelector","deleteUser","getUserDetails","clearErrors","DELETE_USER_RESET","DeleteAccount","history","match","email","setEmail","alert","dispatch","error","isDeleted","state","user","userDetails","userId","params","id","_id","success","push","type","submitHandler","e","preventDefault"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react'\n\nimport MetaData from '../layout/MetaData'\nimport Sidebar from './Sidebar'\n\nimport { useAlert } from 'react-alert'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { deleteUser, getUserDetails, clearErrors } from '../../actions/userActions' // Thay updateUser bằng deleteUser\nimport { DELETE_USER_RESET } from '../../constants/userConstants' // Thay UPDATE_USER_RESET bằng DELETE_USER_RESET\n\nconst DeleteAccount = ({ history, match }) => {\n\n    const [email, setEmail] = useState('')\n\n    const alert = useAlert();\n    const dispatch = useDispatch();\n\n    const { error, isDeleted } = useSelector(state => state.user); // Thay isUpdated bằng isDeleted\n    const { user } = useSelector(state => state.userDetails)\n\n    const userId = match.params.id;\n\n    useEffect(() => {\n        if (user && user._id !== userId) {\n            dispatch(getUserDetails(userId))\n        } else {\n            setEmail(user.email);\n        }\n\n        if (error) {\n            alert.error(error);\n            dispatch(clearErrors());\n        }\n\n        if (isDeleted) {\n            alert.success('Xóa tài khoản thành công!')\n\n            history.push('/admin/users')\n\n            dispatch({\n                type: DELETE_USER_RESET\n            })\n        }\n\n    }, [dispatch, alert, error, history, isDeleted, userId, user])\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n\n        dispatch(deleteUser(userId)); // Thay updateUser bằng deleteUser\n    }\n\n    return (\n        <Fragment>\n            <MetaData title={`Delete User`} />\n            <div className=\"row\">\n                <div className=\"col-12 col-md-2\">\n                    <Sidebar />\n                </div>\n\n                <div className=\"col-12 col-md-10\">\n                    <div className=\"row wrapper\">\n                        <div className=\"col-10 col-lg-5\">\n                            <form className=\"shadow-lg\" onSubmit={submitHandler}>\n                                <h1 className=\"mt-2 mb-5\">XÓA TÀI KHOẢN</h1>\n                                <img className='img_look container' src='https://icon-library.com/images/delete-icon-png/delete-icon-png-29.jpg' alt='' />\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"email_field\">Email</label>\n                                    <input\n                                        type=\"email\"\n                                        id=\"email_field\"\n                                        className=\"form-control\"\n                                        name='email'\n                                        value={email}\n                                        disabled\n                                    />\n                                </div>\n\n                                <button type=\"submit\" className=\"btn update-btn btn-block mt-4 mb-3\">Xóa tài khoản</button>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </Fragment>\n    )\n}\n\nexport default DeleteAccount"]},"metadata":{},"sourceType":"module"}